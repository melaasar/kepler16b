PREFIX :        <#>
PREFIX fuseki:  <http://jena.apache.org/fuseki#>
PREFIX ja:      <http://jena.hpl.hp.com/2005/11/Assembler#>
PREFIX tdb2:    <http://jena.apache.org/2016/tdb#>

# Service 1: Assertions endpoint
:service1  a               		  		fuseki:Service ;
    fuseki:name                   		"tutorial2" ;
    fuseki:dataset                		:assertions ;
    fuseki:serviceQuery           		"" , "query", "sparql" ;
    fuseki:serviceUpdate          		"" , "update" ;
    fuseki:serviceReadWriteGraphStore 	"data" ;
	.

# Service 2: Inference endpoint
:service2	  a               		  	fuseki:Service ;
    fuseki:name                   		"tutorial2-inf" ;
    fuseki:dataset                		:inferences ;
    fuseki:serviceQuery           		"" , "query", "sparql" ;
    fuseki:serviceUpdate          		"" , "update" ;
    fuseki:serviceReadWriteGraphStore 	"data" ;
    fuseki:serviceReadGraphStore  		"get" ;
	.
   
:inferences a ja:RDFDataset ;
	ja:defaultGraph :inf_model ;
	.

:inf_model a ja:InfModel ;
	ja:baseModel :baseModel ;
	ja:reasoner [
		ja:reasonerURL <http://jena.hpl.hp.com/2003/GenericRuleReasoner> ;
		ja:rulesFrom <build/owl/example.com/tutorial2/vocabulary/bundle.rules> ;
	] 
	.

:baseModel a tdb2:GraphTDB2 ;
	tdb2:graphName <urn:x-arq:DefaultGraph> ;
	tdb2:dataset :assertions ;
	.

:assertions a tdb2:DatasetTDB2 ;
	# location is relative to the .fuseki folder
	tdb2:location  "assertions" ;
	tdb2:context [ ja:cxtName "arq:queryTimeout" ; ja:cxtValue "1000" ] ;
	.